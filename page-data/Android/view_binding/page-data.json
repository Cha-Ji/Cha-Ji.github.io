{"componentChunkName":"component---src-templates-blog-post-js","path":"/Android/view_binding/","result":{"data":{"site":{"siteMetadata":{"title":"Cha-Ji","author":"Cha-Ji","siteUrl":"https://Cha-Ji.github.io","comment":{"disqusShortName":"","utterances":"JaeYeopHan/gatsby-starter-bee"},"sponsor":{"buyMeACoffeeId":"chaji"}}},"markdownRemark":{"id":"87effb13-d503-5e4d-bed4-1d9f49dfd6a6","excerpt":"View Binding 등장 배경 xml 상의 코드 즉, 화면에 나타나는 뷰를 참조할 때 findById와 같은 메서드로 접근하곤 합니다. 하지만 여러 문제가 생겼고, 대안을 고민하게 됩니다. 크게 세가지 지표로 고민을 했고, 거쳐온 과정은 아래 사진과 같습니다.  위 사진에서 가장 아래 있는 물음표가 View Binding입니다. findViewById 깔끔하지 못한 코드를 작성하게 되며 Null safety하지 않습니다. 모든 뷰에 대한 변수를 선언하게 되고, id가 틀리면 그대로 Null…","html":"<h1 id=\"view-binding\" style=\"position:relative;\"><a href=\"#view-binding\" aria-label=\"view binding permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>View Binding</h1>\n<h2 id=\"등장-배경\" style=\"position:relative;\"><a href=\"#%EB%93%B1%EC%9E%A5-%EB%B0%B0%EA%B2%BD\" aria-label=\"등장 배경 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>등장 배경</h2>\n<ul>\n<li>xml 상의 코드 즉, 화면에 나타나는 뷰를 참조할 때 findById와 같은 메서드로 접근하곤 합니다.</li>\n<li>하지만 여러 문제가 생겼고, 대안을 고민하게 됩니다.</li>\n<li>크게 세가지 지표로 고민을 했고, 거쳐온 과정은 아래 사진과 같습니다.</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAABwUlEQVQozy2R25KbMBBE/RnZgJBGGmFuRgixXMzNgO31erfynErlIfn/n8jY2SoeKEmnu6dnd9q2cZ67vj+ta92287o0x+N6OffjSOfn67WfxnlZ9H7vcx4A+IIz+rgIQOwIGOcTvbOVe0hs2zBP63mb5lPddZfb2/X9dloWFYZCSoJBI6AChQ/YY+w788MoOg5DGMcvzKdT2zSubZXWPguKstzu93ldozQlkrJ8fHzWTSuU3HEAUj0YU9W1KS2p+Eq+5eaeG4aoUAeo/o5Tm2YeAJeQWbt83iSiUGoXCEEwYda58rXaJ/E3zpc0uZj8RXCFyED8yPNDEjOQgYTSHK618wIOiDsKKbUunKN4hSt1HAWcH9rK9PVDV2suZbdNcZrQzEyrXoc/o8STUj1hANS5tRnJG4P70A8C21ZlV/nULioPxJ84fUXtS/CUHFD/itMXsnzEBqD0xloqPC8KqZEMCXbHL2cm5e84caiZUlQSWbRDE4CUqL/gNM9pT5kxAhXt03aV62v/MZimud7rKstSRoUBJMWhWYeAC9rW/9iKTFCHVCY8nU3tMlfQz7NVaadORXuamR6kRV40FV1RYf8ALxVmpK/+cvAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"viewbinding\"\n        title=\"viewbinding\"\n        src=\"/static/6acd262ed7e881e94b854ce5cced738b/c1b63/viewbinding.png\"\n        srcset=\"/static/6acd262ed7e881e94b854ce5cced738b/5a46d/viewbinding.png 300w,\n/static/6acd262ed7e881e94b854ce5cced738b/0a47e/viewbinding.png 600w,\n/static/6acd262ed7e881e94b854ce5cced738b/c1b63/viewbinding.png 1200w,\n/static/6acd262ed7e881e94b854ce5cced738b/d61c2/viewbinding.png 1800w,\n/static/6acd262ed7e881e94b854ce5cced738b/97a96/viewbinding.png 2400w,\n/static/6acd262ed7e881e94b854ce5cced738b/baf97/viewbinding.png 2942w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<ul>\n<li>위 사진에서 가장 아래 있는 물음표가 View Binding입니다.</li>\n</ul>\n<h3 id=\"findviewbyid\" style=\"position:relative;\"><a href=\"#findviewbyid\" aria-label=\"findviewbyid permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>findViewById</h3>\n<ul>\n<li>깔끔하지 못한 코드를 작성하게 되며 Null safety하지 않습니다.</li>\n<li>모든 뷰에 대한 변수를 선언하게 되고, id가 틀리면 그대로 Null Pointer Exception이 발생합니다.</li>\n</ul>\n<h3 id=\"butter-knife\" style=\"position:relative;\"><a href=\"#butter-knife\" aria-label=\"butter knife permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Butter Knife</h3>\n<ul>\n<li>눈으로 보기에는 깔끔해졌지만 코드의 수는 여전히 같습니다.</li>\n<li>라이브러리를 추가해서 사용합니다. 어노테이션 <code class=\"language-text\">@BindView(R.id.view)</code>를 사용해 변수에 할당할 수 있습니다.</li>\n<li>리스너 역시 <code class=\"language-text\">@OnClick(R.id.view)</code>를 함수 위에 붙여 사용하면 됩니다.</li>\n</ul>\n<h3 id=\"kotlin-synthetic\" style=\"position:relative;\"><a href=\"#kotlin-synthetic\" aria-label=\"kotlin synthetic permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Kotlin Synthetic</h3>\n<ul>\n<li>간편하지만 런타임에 위험합니다.</li>\n<li>같은 아이디를 가진 뷰를 사용할 때 런타임 오류가 생깁니다. 뷰가 복제되었을 때 역시 같은 아이디를 가졌다면 런타임에 오류가 발생합니다.</li>\n<li>특히 RecyclerView를 사용한다면 오류를 피하기 어렵습니다.</li>\n</ul>\n<h3 id=\"view-binding-1\" style=\"position:relative;\"><a href=\"#view-binding-1\" aria-label=\"view binding 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>View Binding</h3>\n<ul>\n<li>binding 변수를 생성하면 바로 뷰를 참조할 수 있기 때문에 코드가 깔끔합니다.</li>\n<li>Null Safety합니다. 직접 참조를 생성하므로 잘못된 id를 참조하면 실행조차 되지 않습니다.</li>\n<li>Acitivity, Fragment 파일과 xml파일 자체를 연결합니다.</li>\n</ul>\n<h2 id=\"view-binding-에서의-메모리-누수\" style=\"position:relative;\"><a href=\"#view-binding-%EC%97%90%EC%84%9C%EC%9D%98-%EB%A9%94%EB%AA%A8%EB%A6%AC-%EB%88%84%EC%88%98\" aria-label=\"view binding 에서의 메모리 누수 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>View Binding 에서의 메모리 누수</h2>\n<ul>\n<li>Fragment에서 View Binding을 사용할 때, onDestroy 생명주기에 _binding = null 처리를 해주는 모습을 볼 수 있습니다.</li>\n<li>이는 backstack이나 detach를 사용할 경우, fragment view가 파괴되지만 fragment는 살아있기 때문에 view와의 연결을 끊어주는 과정입니다.</li>\n<li>activity의 경우 view와 acitivity의 생명주기를 구분짓지 않기 때문에 굳이 필요하지 않습니다.</li>\n</ul>","frontmatter":{"title":"[Android] View Binding","date":"July 03, 2000"}}},"pageContext":{"slug":"/Android/view_binding/","previous":{"fields":{"slug":"/Android/two_way_data_binding/"},"frontmatter":{"title":"[Android] Two-way Data Binding"}},"next":{"fields":{"slug":"/Android/data_binding/"},"frontmatter":{"title":"[Android] Data Binding"}}}},"staticQueryHashes":["2486386679","3128451518"]}